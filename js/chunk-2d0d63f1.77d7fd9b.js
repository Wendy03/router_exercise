(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d63f1"],{7277:function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"dashboard"},[s("Navbar"),s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("Sidebar"),s("main",{staticClass:"col-md-9 ml-sm-auto col-lg-10 px-4",attrs:{role:"main"}},[t.isAuth?s("router-view",{attrs:{token:t.token}}):t._e()],1)],1)])],1)},n=[],e=(s("ac1f"),s("5319"),function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("nav",{staticClass:"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow"},[s("router-link",{staticClass:"navbar-brand col-sm-3 col-md-2 mr-0",attrs:{to:"/admin/products"}},[t._v(" Coffee ")]),s("ul",{staticClass:"navbar-nav px-3"},[s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"text-light mr-2",attrs:{to:"/"}},[t._v(" 回到前台 ")]),s("a",{staticClass:"btn btn-outline-light",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.signout(a)}}},[t._v(" 登出 ")])],1)])],1)])}),l=[],o={methods:{signout:function(){document.cookie="hexToken=; expires=; path=/",this.$router.push("/")}}},c=o,r=s("2877"),u=Object(r["a"])(c,e,l,!1,null,null,null),d=u.exports,h=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("nav",{staticClass:"col-md-2 d-none d-md-block bg-light sidebar"},[s("div",{staticClass:"sidebar-sticky"},[s("h5",{staticClass:"sidebar-heading d-flex\n        justify-content-between align-items-center\n        px-3 mt-4 mb-2 text-muted"},[t._v(" 管理員 ")]),s("ul",{staticClass:"nav flex-column mb-2"},[s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/admin/products"}},[s("i",{staticClass:"fas fa-box-open"}),t._v(" 產品列表 ")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/admin/orders"}},[s("i",{staticClass:"far fa-list-alt"}),t._v(" 訂單列表 ")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/admin/coupons"}},[s("i",{staticClass:"fas fa-ticket-alt"}),t._v(" 優惠券 ")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/admin/pictures"}},[t._v(" 圖片儲存列表 ")])],1)])])])])},v=[],m={},f=Object(r["a"])(m,h,v,!1,null,null,null),k=f.exports,p={components:{Navbar:d,Sidebar:k},data:function(){return{token:"",isAuth:!1}},created:function(){this.checkAuth()},methods:{checkAuth:function(){var t=this;this.token=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1"),this.$http.defaults.headers.Authorization="Bearer ".concat(this.token);var a="".concat("https://course-ec-api.hexschool.io/api/","auth/check");this.$http.post(a,{api_token:this.token}).then((function(a){console.log(a),a.data.success&&(t.isAuth=!0)})).catch((function(a){console.log(a),t.$router.push("/signin")}))}}},b=p,C=Object(r["a"])(b,i,n,!1,null,null,null);a["default"]=C.exports}}]);
//# sourceMappingURL=chunk-2d0d63f1.77d7fd9b.js.map